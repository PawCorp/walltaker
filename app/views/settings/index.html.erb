<% content_for(:html_title) { "#{@user.username} walltaker settings" } %>

<% if @user.username.last.downcase == 's' %>
  <h2>
    <ion-icon role="presentation" name="person"></ion-icon> <%= @user.username %>' settings
  </h2>
<% else %>
  <h2>
    <ion-icon role="presentation" name="person"></ion-icon> <%= @user.username %>'s settings
  </h2>
<% end %>

<div class="accent-block">
  <div class="accent-block__charm">
    <ion-icon role="img" name="color-palette"></ion-icon>
    Theme Mode
  </div>
  <%= form_with model: @user, url: settings_path, method: :post, data: { 'turbo': 'false' } do |f| %>
    <div class="form__group">
      <%= f.label :colour_preference, value: :light, class: 'form__row' do %>
        <ion-icon role="presentation" name="sunny"></ion-icon>
        Light mode
        <%= f.radio_button :colour_preference, :light %>
      <% end %>
      <%= f.label :colour_preference, value: :dark, class: 'form__row' do %>
        <ion-icon role="presentation" name="moon"></ion-icon>
        Dark mode
        <%= f.radio_button :colour_preference, :dark %>
      <% end %>
      <%= f.label :colour_preference, value: :auto, class: 'form__row' do %>
        <ion-icon role="presentation" name="sparkles"></ion-icon>
        Automatic
        <%= f.radio_button :colour_preference, :auto %>
      <% end %>
    </div>
    <%= f.submit 'Save', class: 'accent-block__button' %>
  <% end %>
</div>